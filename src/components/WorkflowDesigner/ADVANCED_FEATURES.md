# ReactFlow 高級功能說明

## 新增功能

### 1. 多選移動功能
- **操作方式**: 長按 `Ctrl` + 滑鼠點選節點
- **功能**: 可以同時選中多個節點並一起移動
- **支援**: 所有節點類型（除了 Start 節點）

### 2. 節點對齊功能
- **操作方式**: 選中多個節點後，點擊工具欄中的「對齊」按鈕
- **對齊選項**:
  - 左對齊 (Align Left)
  - 居中對齊 (Align Center) 
  - 右對齊 (Align Right)
  - 頂部對齊 (Align Top)
  - 垂直居中 (Align Middle)
  - 底部對齊 (Align Bottom)
- **要求**: 至少選中 2 個節點

### 3. 節點大小調整功能
- **操作方式**: 直接拖拽節點右下角的調整手柄
- **功能**: 可以改變節點的高度和寬度
- **限制**: 有最小尺寸限制 (120px x 60px)
- **支援**: 所有節點類型

### 4. 節點複製貼上功能
- **複製**: 
  - 選中節點後點擊「複製」按鈕
  - 或使用快捷鍵 `Ctrl+C`
- **貼上**:
  - 點擊「貼上」按鈕
  - 或使用快捷鍵 `Ctrl+V`
- **全選**: 使用快捷鍵 `Ctrl+A` 選中所有節點（除了 Start 節點）

### 5. 鍵盤快捷鍵
- `Ctrl+C`: 複製選中的節點
- `Ctrl+V`: 貼上節點
- `Ctrl+A`: 全選節點
- `Delete` 或 `Backspace`: 刪除選中的節點

## 技術實現

### 文件結構
```
src/components/WorkflowDesigner/
├── hooks/
│   └── useAdvancedFeatures.js    # 高級功能 Hook
├── components/
│   ├── Toolbar.js                # 更新了工具欄
│   └── WorkflowCanvas.js         # 更新了畫布組件
└── WhatsAppWorkflowDesigner.js   # 主組件整合
```

### 主要組件

#### useAdvancedFeatures Hook
- 管理多選狀態
- 處理複製貼上邏輯
- 實現節點對齊算法
- 處理鍵盤事件

#### 更新的工具欄
- 添加了複製/貼上按鈕
- 添加了對齊下拉選單
- 按鈕狀態根據選中節點數量動態啟用/禁用

#### 更新的畫布
- 支援多選節點
- 添加鍵盤事件監聽
- 支援畫布點擊清除選擇

## 使用說明

1. **多選節點**: 按住 `Ctrl` 鍵並點擊多個節點
2. **對齊節點**: 選中多個節點後，點擊工具欄的「對齊」按鈕選擇對齊方式
3. **調整節點大小**: 直接拖拽節點右下角的調整手柄
4. **複製節點**: 選中節點後點擊「複製」按鈕或按 `Ctrl+C`
5. **貼上節點**: 點擊「貼上」按鈕或按 `Ctrl+V`
6. **刪除節點**: 選中節點後按 `Delete` 或 `Backspace` 鍵

## 注意事項

- Start 節點不能被刪除或複製
- 節點有最小尺寸限制
- 複製的節點會自動偏移位置避免重疊
- 對齊功能需要至少選中 2 個節點
- 所有功能都支援繁體中文界面
