# UI 邏輯更新總結

## 新的介面邏輯

### 1. 「送貨員已送貨」介面
- **顯示條件**: `uploaded_by = 'DeliveryMan'` 且 `confirmed = false`
- **用途**: 顯示送貨員已經掃描 QR Code 但客戶還沒簽收的記錄
- **操作**: 可以批量確認這些記錄

### 2. 「客戶已簽收」介面  
- **顯示條件**: `uploaded_by = 'Customer'`
- **用途**: 顯示客戶已經上傳簽收單據的記錄
- **操作**: 僅供查看，不提供確認功能

## 業務流程

1. **送貨員送貨**: 
   - 使用 `/api/QrScan/scan` 掃描 QR Code
   - 自動寫入記錄，`uploaded_by = 'DeliveryMan'`
   - 記錄出現在「送貨員已送貨」介面

2. **客戶簽收**:
   - 使用 `/api/DeliveryReceipt/upload` 上傳簽收單據
   - 如果 QR code 已存在：更新記錄，`uploaded_by = 'Customer'`
   - 如果 QR code 不存在：新增記錄，`uploaded_by = 'Customer'`
   - 記錄出現在「客戶已簽收」介面

3. **管理員確認**:
   - 在「送貨員已送貨」介面中批量確認記錄
   - 確認後記錄狀態變為 `confirmed = true`

## 介面特點

- **相同的表格結構**: 兩個介面使用相同的欄位和佈局
- **不同的數據來源**: 基於 `uploaded_by` 欄位區分數據來源
- **不同的操作權限**: 只有「送貨員已送貨」介面提供確認功能
- **清晰的標籤**: 使用直觀的中英文標籤來區分兩個介面

## 技術實現

- **後端查詢**: 修改 `DeliveryService` 中的查詢條件
- **前端顯示**: 使用相同的 React 組件，通過不同的 API 端點獲取數據
- **多語言支援**: 更新中英文語言文件以反映新的業務邏輯 