# Meta Template åƒæ•¸æ ¼å¼ä¿®å¾©æŒ‡å—

## ğŸ› å•é¡Œæè¿°

å‰µå»º Meta WhatsApp Template æ™‚ï¼Œå¦‚æœæœ‰ **2 å€‹æˆ–ä»¥ä¸Šåƒæ•¸**ï¼Œæœƒå‡ºç¾éŒ¯èª¤ï¼š
```
è¨Šæ¯ç¯„æœ¬ã€Œå…ƒä»¶ã€åƒæ•¸ç¼ºå°‘é æœŸçš„æ¬„ä½
ã€ŒBODYã€é¡å‹çš„å…ƒä»¶ç¼ºå°‘é æœŸæ¬„ä½ï¼ˆexampleï¼‰
```

## ğŸ” æ ¹æœ¬åŸå› 

Meta API å°åƒæ•¸ç¤ºä¾‹çš„æ ¼å¼è¦æ±‚ï¼š

### âŒ éŒ¯èª¤æ ¼å¼ï¼ˆä¿®å¾©å‰ï¼‰
```javascript
{
  body_text: ["ç¤ºä¾‹1", "ç¤ºä¾‹2", "ç¤ºä¾‹3"]
}
```

### âœ… æ­£ç¢ºæ ¼å¼ï¼ˆä¿®å¾©å¾Œï¼‰
```javascript
{
  body_text: [["ç¤ºä¾‹1", "ç¤ºä¾‹2", "ç¤ºä¾‹3"]]
}
```

**é—œéµå·®ç•°**ï¼šæ‰€æœ‰åƒæ•¸ç¤ºä¾‹å¿…é ˆåŒ…è£åœ¨ **å¤–å±¤æ•¸çµ„** ä¸­ï¼

## ğŸ“‹ Meta Template åƒæ•¸è¦å‰‡

| åƒæ•¸æ•¸é‡ | æ˜¯å¦éœ€è¦ example | æ ¼å¼è¦æ±‚ |
|---------|----------------|---------|
| 0 å€‹ | âŒ ä¸éœ€è¦ | ç„¡ |
| 1 å€‹ | âš ï¸ å¯é¸ï¼ˆå»ºè­°æä¾›ï¼‰ | `[["ç¤ºä¾‹å€¼"]]` |
| 2+ å€‹ | âœ… **å¿…é ˆæä¾›** | `[["ç¤ºä¾‹1", "ç¤ºä¾‹2", ...]]` |

## ğŸ¯ å®Œæ•´ç¤ºä¾‹

### ç¯„ä¾‹ 1ï¼šç„¡åƒæ•¸æ¨¡æ¿
```javascript
{
  type: 'BODY',
  text: 'æ‚¨å¥½ï¼æ­¡è¿ä½¿ç”¨æˆ‘å€‘çš„æœå‹™ã€‚'
  // ä¸éœ€è¦ example
}
```

### ç¯„ä¾‹ 2ï¼šå–®åƒæ•¸æ¨¡æ¿
```javascript
{
  type: 'BODY',
  text: 'æ‚¨å¥½ {{1}}ï¼',
  example: {
    body_text: [["å¼µä¸‰"]]  // å–®å€‹åƒæ•¸ä¹Ÿè¦é›™å±¤æ•¸çµ„
  }
}
```

### ç¯„ä¾‹ 3ï¼šå¤šåƒæ•¸æ¨¡æ¿ â­
```javascript
{
  type: 'BODY',
  text: 'æ‚¨å¥½ {{1}}ï¼Œæ‚¨çš„è¨‚å–® {{2}} å·²æº–å‚™å°±ç·’ï¼Œè«‹é»æ“Šï¼š{{3}}',
  example: {
    body_text: [["å¼µä¸‰", "ORDER123", "https://example.com"]]
  }
}
```

## ğŸ”§ å·²ä¿®å¾©çš„ä»£ç¢¼

**æ–‡ä»¶**ï¼š`src/pages/MetaTemplatePanel.js`

**ä¿®å¾©å‰**ï¼ˆç¬¬ 169 è¡Œï¼‰ï¼š
```javascript
body_text: bodyVariables.map(v => v.example || 'ç¤ºä¾‹å€¼')
```

**ä¿®å¾©å¾Œ**ï¼ˆç¬¬ 169 è¡Œï¼‰ï¼š
```javascript
body_text: [bodyVariables.map(v => v.example || 'ç¤ºä¾‹å€¼')]
```

**é—œéµæ”¹å‹•**ï¼šåœ¨ `map` çµæœå¤–é¢åŒ…è£ä¸€å±¤æ•¸çµ„ `[]`

## ğŸš€ ä½¿ç”¨æ­¥é©Ÿ

### 1. å‰µå»ºå¸¶åƒæ•¸çš„ Meta Template

åœ¨å‰ç«¯ Meta Template ç®¡ç†é¢æ¿ä¸­ï¼š

1. **è¼¸å…¥æ¨¡æ¿å…§å®¹**ï¼š
   ```
   æ‚¨å¥½ {{1}}ï¼Œæ‚¨çš„ {{2}} å·²æº–å‚™å°±ç·’ï¼Œè«‹é»æ“Šéˆæ¥ï¼š{{3}}
   ```

2. **æ·»åŠ åƒæ•¸ç¤ºä¾‹**ï¼š
   - åƒæ•¸ {{1}}ï¼š`å¼µä¸‰`
   - åƒæ•¸ {{2}}ï¼š`å‡æœŸç”³è«‹è¡¨å–®`
   - åƒæ•¸ {{3}}ï¼š`https://example.com/form/123`

3. **æäº¤å‰µå»º**ï¼šç³»çµ±æœƒè‡ªå‹•å°‡ç¤ºä¾‹å€¼æ ¼å¼åŒ–ç‚ºæ­£ç¢ºçš„æ ¼å¼

### 2. åœ¨å·¥ä½œæµç¨‹ä¸­ä½¿ç”¨

```json
{
  "messageMode": "template",
  "templateName": "form_notification",
  "isMetaTemplate": true,
  "templateLanguage": "zh_TW",
  "templateVariables": {
    "1": "å¼µä¸‰",
    "2": "å‡æœŸç”³è«‹è¡¨å–®",
    "3": "https://example.com/form/123"
  }
}
```

## âš ï¸ å¸¸è¦‹éŒ¯èª¤

### éŒ¯èª¤ 1ï¼šå¿˜è¨˜å¤–å±¤æ•¸çµ„
```javascript
âŒ body_text: ["ç¤ºä¾‹1", "ç¤ºä¾‹2"]
âœ… body_text: [["ç¤ºä¾‹1", "ç¤ºä¾‹2"]]
```

### éŒ¯èª¤ 2ï¼šåƒæ•¸æ•¸é‡ä¸åŒ¹é…
```javascript
// æ¨¡æ¿æœ‰ 3 å€‹åƒæ•¸
text: 'æ‚¨å¥½ {{1}}ï¼Œ{{2}} {{3}}'

// âŒ éŒ¯èª¤ï¼šåªæä¾› 2 å€‹ç¤ºä¾‹
example: { body_text: [["ç¤ºä¾‹1", "ç¤ºä¾‹2"]] }

// âœ… æ­£ç¢ºï¼šæä¾› 3 å€‹ç¤ºä¾‹
example: { body_text: [["ç¤ºä¾‹1", "ç¤ºä¾‹2", "ç¤ºä¾‹3"]] }
```

### éŒ¯èª¤ 3ï¼šHeader å’Œ Body æ··æ·†
```javascript
// å¦‚æœ Header ä¹Ÿæœ‰åƒæ•¸
{
  type: 'HEADER',
  format: 'TEXT',
  text: 'è¨‚å–® {{1}}',
  example: {
    header_text: [["ORDER123"]]  // æ³¨æ„æ˜¯ header_text
  }
}

// Body åƒæ•¸
{
  type: 'BODY',
  text: 'æ‚¨å¥½ {{1}}',
  example: {
    body_text: [["å¼µä¸‰"]]  // æ³¨æ„æ˜¯ body_text
  }
}
```

## ğŸ“ æ¸¬è©¦æ¸…å–®

å‰µå»º Meta Template å¾Œï¼Œè«‹é©—è­‰ï¼š

- [ ] æ¨¡æ¿æˆåŠŸæäº¤åˆ° Meta API
- [ ] åœ¨ Meta Business Manager ä¸­å¯ä»¥çœ‹åˆ°æ¨¡æ¿
- [ ] æ¨¡æ¿ç‹€æ…‹ç‚º PENDING æˆ– APPROVED
- [ ] åƒæ•¸æ•¸é‡èˆ‡ç¤ºä¾‹å€¼æ•¸é‡ä¸€è‡´
- [ ] åœ¨å·¥ä½œæµç¨‹ä¸­å¯ä»¥æ­£å¸¸ä½¿ç”¨

## ğŸ”— ç›¸é—œè³‡æº

- [Meta WhatsApp Business API æ–‡æª”](https://developers.facebook.com/docs/whatsapp/business-management-api/message-templates/)
- [Message Template Examples](https://developers.facebook.com/docs/whatsapp/business-management-api/message-templates/components)

---

## âœ… ä¿®å¾©å®Œæˆ

- âœ… **ä»£ç¢¼å·²ä¿®å¾©**ï¼š`src/pages/MetaTemplatePanel.js` ç¬¬ 169 è¡Œ
- âœ… **æ ¼å¼æ­£ç¢º**ï¼šåƒæ•¸ç¤ºä¾‹ä½¿ç”¨é›™å±¤æ•¸çµ„çµæ§‹
- âœ… **æ”¯æŒå¤šåƒæ•¸**ï¼šç¾åœ¨å¯ä»¥å‰µå»º 2 å€‹ä»¥ä¸Šåƒæ•¸çš„æ¨¡æ¿

**ä¸‹ä¸€æ­¥**ï¼š
1. é‡æ–°ç·¨è­¯å‰ç«¯ï¼š`npm run build`
2. é‡æ–°å•Ÿå‹•æ‡‰ç”¨
3. å‰µå»ºæ–°çš„ Meta Template æ¸¬è©¦
4. åœ¨ Manual Fill æµç¨‹ä¸­ä½¿ç”¨æ–°æ¨¡æ¿

---

**æœ€å¾Œæ›´æ–°**ï¼š2025-10-12
**ç›¸é—œå•é¡Œ**ï¼šMeta Template å‰µå»ºå¤±æ•—ï¼Œåƒæ•¸æ ¼å¼éŒ¯èª¤
**å½±éŸ¿ç¯„åœ**ï¼šæ‰€æœ‰ä½¿ç”¨ 2 å€‹ä»¥ä¸Šåƒæ•¸çš„ Meta Template

