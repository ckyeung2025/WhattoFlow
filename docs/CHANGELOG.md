# 變更日誌

## [2.1.0] - 2025-08-31

### 🚀 **新增功能**
- **流程變量系統**: 完整的 Process Variables 管理，支持多種數據類型
- **Switch 節點**: 類似 BPMN Gateway 的條件分支節點
- **QR Code 處理節點**: 專門處理用戶發送的包含 QR Code 的圖片
- **DataSet 工作流集成**: 在流程中查詢和更新數據集
- **變量映射系統**: DataSet、eForm、外部 API 的雙向數據映射
- **JSON 變量支持**: 複雜數據結構的存儲和處理
- **Tag 語法系統**: 支持 ${variable} 語法在消息和表單中使用

### 🔧 **技術改進**
- 優化流程變量存儲結構，參考 DataSetRecordValue 設計
- 增強工作流引擎的條件評估能力
- 改進變量映射的實時監控
- 優化 QR Code 識別和驗證邏輯
- 增強 DataSet 操作的統一介面

### 🐛 **問題修復**
- 修復工作流變量序列化問題
- 修復 Switch 節點條件評估邏輯
- 修復變量映射的數據類型轉換問題

## [2.0.0] - 2025-08-20

### 🚀 **新增功能**
- **數據集管理系統**: 完整的數據集創建、編輯、刪除功能
- **Excel 數據源集成**: 支持 Excel 文件上傳和數據導入
- **WhatsApp 工作流引擎**: 基於 React Flow 的流程設計器
- **E-Form 表單系統**: GrapesJS + Form.io 雙引擎支持
- **文檔轉換系統**: LibreOffice 集成，支持多種文檔格式
- **多語言支持**: 中文繁體、簡體和英文界面

### 🔧 **技術改進**
- 升級到 .NET 8.0
- 升級到 React 18
- 優化數據庫查詢性能
- 改進錯誤處理機制
- 增強日誌記錄系統

### 🐛 **問題修復**
- 修復 Excel 日期轉換問題
- 修復數據同步性能問題
- 修復前端組件渲染問題
- 修復文件上傳安全問題

### 📚 **文檔更新**
- 創建完整的系統文檔
- 更新 API 文檔
- 添加開發指南
- 創建部署說明

## [1.0.0] - 2024-12-19

### 🚀 **主要功能**
- 基礎的用戶認證系統
- 簡單的 CRUD 操作
- 基本的文件上傳功能

### 🏗️ **技術架構**
- .NET 6.0 基礎架構
- React 17 前端框架
- Entity Framework Core 6.0

---

**維護者**: 開發團隊  
**更新頻率**: 每週更新

---

**最後更新**: 2025年8月31日  
**系統版本**: v2.1.0
